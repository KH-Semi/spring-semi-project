<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>FeatherWorld</title>
    <!-- 공용 css/js 추가 -->
    <th:block th:replace="~{common/common}"></th:block>

    <link rel="stylesheet" href="/css/miniHome/miniHome.css" />
  </head>
  <body>
    <!-- Header Fragment -->
    <div th:replace="~{common/header}"></div>

    <div class="content-container">
      <div class="left-sidebar">
        <!-- Left sidebar - Profile Information -->
        <div th:replace="~{common/leftsidebar}"></div>
      </div>

      <!-- Middle sidebar - Posts -->
      <div class="content-area">
        <div class="boardContainer">
          <div class="boardSummary">
            <div class="summary-links">
              <a href="#">Board Total</a>
              <a href="#">Guest Book Total</a>
            </div>
          </div>

          <div class="recentBoard">Recent Board</div>

          <form action="/profile/file/test1"
                      method="POST"
                      enctype="multipart/form-data"

          <!-- 이미지 5장까지 표시할 영역 -->
          <div class="small-image-row" id="imagePreviewRow"></div>

          <textarea
            class="Comment"
            placeholder="Write Friend Comment."
          ></textarea>

          <div class="comment-header">
            <div class="title">Friend Comment List</div>
            <button id="write-button" class="write-button">Write</button>
          </div>
          <div id="comment-form" style="display: none; margin-top: 10px">
            <textarea
              id="comment-input"
              class="Comment"
              placeholder="댓글을 작성하세요..."
            ></textarea>
            <button id="submit-comment" class="write-button">댓글 등록</button>
          </div>

          <!-- 댓글 부분 -->
          <div class="comment-list" id="comment-list">
            <div th:each="comment : ${comments}">
              <div class="comment-item">
                <img
                  th:src="${#strings.isEmpty(comment.memberImg)} ? '/images/user.png' : comment.memberImg"
                />
                <div class="comment-content">
                  <span class="username" th:text="${comment.username}"
                    >사용자명</span
                  >
                  <span class="comment-text" th:text="${comment.commentText}"
                    >댓글 내용</span
                  >
                  <div class="comment-meta">
                    <span class="user-role" th:text="${comment.userRole}"
                      >역할</span
                    >
                    <button class="delete-btn">Delete</button>
                  </div>
                </div>
              </div>
              <hr />
            </div>
          </div>
        </div>
      </div>

      <!-- Right sidebar - Navigation Menu -->
      <div class="right-sidebar">
        <th:block th:replace="~{common/navsidebar}"></th:block>
      </div>
    </div>

    <!-- 푸터 -->
    <th:block th:replace="~{common/footer}"></th:block>

    <script src="/js/miniHome/miniHome.js"></script>
  </body>
</html>
