<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FeatherWorld</title>
    <!-- 공용 css/js 추가 -->
    <th:block th:replace="~{common/common}"></th:block>
    <!-- myPage 전용 CSS -->
    <link rel="stylesheet" href="/css/myPage/editProfile.css" />
  </head>
  <body>
    <div class="container">
      <!-- Left sidebar - Profile Information -->
      <div class="left-sidebar">
        <header class="logo">
          <p>Today / Total</p>
        </header>

        <div class="profile-info">
          <div class="profile-image">
            <img
              th:src="${session.loginMember != null && session.loginMember.
              memberImg != null} ? @{${session.loginMember.memberImg}} : @{/images/user.png}"
              alt="Profile Image"
            />
          </div>

          <!-- 회원 번호 표시 -->
          <div class="profile-name" th:text="${memberno}">회원번호</div>

          <!-- 닉네임 (@ 표시 포함) -->
          <div class="profile-handle" th:text="'@' + ${nickname}">@닉네임</div>

          <!-- 팔로워 / 팔로잉 수 -->
          <div class="profile-stats">
            <div class="stat">
              <div class="stat-number" th:text="${followerCount}">0</div>
              <div class="stat-label">Follower</div>
            </div>
            <div class="stat">
              <div class="stat-number" th:text="${followingCount}">0</div>
              <div class="stat-label">Following</div>
            </div>
          </div>

          <!-- profile 하단 버튼-->
          <div class="profile-action">
            <button id="confirmEditBtn" class="action-button Edit-button">
              Confirm
            </button>
            <button id="backToProfileBtn" class="action-button back-button">
              Back
            </button>
          </div>
        </div>

        <!-- 여기 추가 -->
        <div class="profile-action">
          <button class="action-button Board-button">Bio</button>
        </div>

        <div class="profile-action">
          <button class="action-button surfing-button">surfing</button>
        </div>
      </div>

      <!-- Middle sidebar - Posts -->
<div class="middle-sidebar">
  <div class="header"></div>
  <div class="post">
    <form
      id="uploadForm"
      action="/upload"
      method="post"
      enctype="multipart/form-data"
    >
      <label for="image"></label>
      <div class="image-upload-container">
        <input
          type="file"
          id="image"
          name="image"
          accept="image/*"
          class="file-input"
        />
        <img
          id="previewImage"
          src=""
          alt="이미지 미리보기"
          class="preview-image"
        />
      </div>
    </form>

    <div class="bio-section">
      <textarea
        id="bio-input"
        class="comment-home"
        placeholder="자기소개를 입력하세요..."
      ></textarea>
      <div id="bio-display" class="bio-display"></div>
    </div>
  </div>
</div>

        <!-- 업데이트 삭제 버튼 -->
        <!-- 업데이트 삭제 버튼 -->
        <div class="post-actions">
          <button
            th:id="profileUpdateBtn"
            class="post-button"
            th:onclick="|location.href='@{/profile/update}'|"
          >
            Profile Update
          </button>
          <button
            th:id="deleteAccountBtn"
            class="post-button"
            th:onclick="|location.href='@{/account/delete}'|"
          >
            Delete Account
          </button>
        </div>
      </div>
    </div>

    <!-- Right sidebar - Navigation Menu -->
    <th:block th:replace="~{common/navSidebar}"></th:block>

    <!-- 푸터 추가 -->
    <th:block th:replace="~{common/footer}"></th:block>

    <script src="/FeatherWorld/src/main/resources/static/js/profile/editProfile.js"></script>
  </body>
</html>
