<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.featherworld.project.board.model.mapper.BoardMapper">

	<!-- 회원 여부 확인 -->
	<select id="checkMember">
		SELECT COUNT(*)
		FROM MEMBER
		WHERE MEMBER_NO = ${memberNo}
	</select>
	
	<!-- 현재 회원의 게시판 종류 번호 조회 -->
	<select id="selectBoardType" resultType="BoardType">
		SELECT BOARD_CODE, BOARD_NAME, AUTHORITY
		FROM BOARD_TYPE
		WHERE MEMBER_NO = ${memberNo}
	</select>
	
	<!-- 해당 게시판의 게시글 조회 -->
	<select id="selectBoardList" resultType="Board">
		SELECT BOARD_NO, BOARD_TITLE, BOARD_CONTENT,
		TO_CHAR(BOARD_WRITE_DATE, 'YYYY-MM-DD') AS BOARD_WRITE_DATE, READ_COUNT
		FROM BOARD
		WHERE BOARD_CODE = ${currentBoardCode}
		AND BOARD_DEL_FL = 'N'
	</select>
	
</mapper>
